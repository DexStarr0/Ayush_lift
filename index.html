<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ayush Lifts - Workout Planner</title>
    <link rel="stylesheet" href="deep_style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@700&family=Roboto:wght@500&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <header class="app-header">
        <!-- <img class="Logo" src="Logo.png" alt="" /> -->
      </header>

      <!-- Main Display Area -->
      <div id="workout-display"></div>

      <!-- Bottom Navigation -->
      <div class="bottom-nav">
        <button class="nav-btn" onclick="showSection('Day 1')">Day 1</button>
        <button class="nav-btn" onclick="showSection('Day 2')">Day 2</button>
        <button class="nav-btn" onclick="showSection('Day 3')">Day 3</button>
        <button class="nav-btn" onclick="showSection('Day 4')">Day 4</button>
        <button class="nav-btn" onclick="showSection('Day 5')">Day 5</button>
        <button class="nav-btn" onclick="showSection('Day 6')">Day 6</button>
      </div>
    </div>

    <script src="workoutSplit.js"></script>
    <script>
      const createExerciseRow = (exercise) => `
    <tr>
      <td class="exercise-name">${exercise.exercise}</td>
      <td class="exercise-detail">${exercise.detail}</td>
    </tr>
  `;

      function renderGeneral() {
        return `
      <h2>General Warm-Up</h2>
      <table class="exercise-table">
        <thead><tr><th>Exercise</th><th>Reps/Details</th></tr></thead>
        <tbody>${globalDailyWarmUp.map(createExerciseRow).join("")}</tbody>
      </table>
    `;
      }

      function renderDay(dayKey, type = "specificWarmUp") {
        const day = workoutData[dayKey];
        const data = day[type];
        return `
      <h2>${day.name}</h2>
      <div class="tab-nav">
        <button class="tab-button ${type === "specificWarmUp" ? "active" : ""}" 
                onclick="showDayTab('${dayKey}','specificWarmUp',this)">Warm-Up</button>
        <button class="tab-button ${type === "mainExercises" ? "active" : ""}" 
                onclick="showDayTab('${dayKey}','mainExercises',this)">Exercises</button>
      </div>
      <table class="exercise-table">
        <thead><tr><th>Exercise</th><th>Reps/Details</th></tr></thead>
        <tbody>${data.map(createExerciseRow).join("")}</tbody>
      </table>
    `;
      }

      function showSection(section) {
        const display = document.getElementById("workout-display");
        if (section === "general") {
          display.innerHTML = renderGeneral();
        } else {
          display.innerHTML = renderDay(section, "specificWarmUp");
        }

        // update nav button state
        document.querySelectorAll(".nav-btn").forEach((btn) => {
          if (
            btn.textContent.trim() ===
            (section === "general" ? "General" : section)
          ) {
            btn.classList.add("active");
          } else {
            btn.classList.remove("active");
          }
        });
      }

      function showDayTab(dayKey, type, btn) {
        const display = document.getElementById("workout-display");
        display.innerHTML = renderDay(dayKey, type);
      }

      document.addEventListener("DOMContentLoaded", () => {
        const today = new Date().getDay();

        const dayMap = {
          0: "general", // Sunday
          1: "Day 1", // Monday
          2: "Day 2", // Tuesday
          3: "Day 3", // Wednesday
          4: "Day 4", // Thursday
          5: "Day 5", // Friday
          6: "Day 6", // Saturday
        };

        const section = dayMap[today] || "general";
        showSection(section);
      });
    </script>
  </body>
</html>
